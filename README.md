# MTV-2D Algorithm for Stereoscopic Molecular Tagging Velocimetry

The **MTV-2D Algorithm** is specifically designed for 2D stereoscopic MTV, leveraging laser grid lines with a signal-to-noise ratio greater than 2 for optimal performance. This algorithm uses a three-staged cross-correlation optimization process to determine the correspondence between the source and target images.

## Algorithm Overview

### Key Features:
1. **High Signal-to-Noise Ratio**: Designed for laser grid lines with a signal-to-noise ratio > 2.
2. **Hough Line Transformation**: Identifies grid patterns in the source image.
3. **Three-Stage Cross-Correlation**: Ensures robust matching between source and target images. 

---

## Example Image

The algorithm is design for the specific geometry of image generated by molecular tagging velocimetry using grid optical components. Below is an example of a source image with grid lines detected:

![Source Image](Source/frame_0.png)

- **Description**: Example image from MTV.

---

## Algorithm Workflow

1. **Stage 1**: Detect grid lines in the source image using Hough line transformation as the base template.
    - **Visualization**: 
      ![Stage 1 Workflow](path/to/stage1_workflow.png)

2. **Stage 2**: Perform initial coarse cross correspondence of image by mapping the rhombus region from target image with the source image.
    - **Visualization**: 
      ![Stage 2 Workflow](path/to/stage2_workflow.png)

3. **Stage 3**: Perform template matchign across two image to determine plausible region where corresponding intersection for source image exist in the target image.
    - **Visualization**: 
      ![Stage 3 Workflow](path/to/stage3_workflow.png)

4. **Stage 4**: Perform sub-pixel detection using template matching using the template generated from stage 1 with the determined search region in stage 3.
    - **Visualization**: 
      ![Stage 3 Workflow](path/to/stage3_workflow.png)

---

## Output Results

The final output includes a fully matched grid pattern between the source and target images, as shown below:

![Final Output](path/to/final_output.png)

- **Description**: This image demonstrates the final matched grid, illustrating the algorithm's effectiveness in accurately determining correspondences.

---

## Requirements and Setup

- **Dependencies**: Python 3.8+, OpenCV, NumPy, SciPy
- **Installation**:
  ```bash
  pip install -r requirements.txt
